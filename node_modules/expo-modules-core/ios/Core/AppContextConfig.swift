// Copyright 2023-present 650 Industries. All rights reserved.

public struct AppContextConfig {
  public let documentDirectory: URL?
  public let cacheDirectory: URL?
  public let appGroupSharedDirectories: [URL]
<<<<<<< HEAD
  public let scoped: Bool
=======
>>>>>>> 2c830f7d0232ead70791aff6968a0e95ce850767

  public init(documentDirectory: URL?, cacheDirectory: URL?, appGroups: [String]?) {
    self.documentDirectory = documentDirectory ?? FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first
    self.cacheDirectory = cacheDirectory ?? FileManager.default.urls(for: .cachesDirectory, in: .userDomainMask).first
<<<<<<< HEAD
    self.scoped = documentDirectory != nil ? true : false
=======
>>>>>>> 2c830f7d0232ead70791aff6968a0e95ce850767

    var sharedDirectories: [URL] = []
    for appGroup in appGroups ?? [] {
      if let directory = FileManager.default.containerURL(forSecurityApplicationGroupIdentifier: appGroup) {
        sharedDirectories.append(directory)
      }
    }
    self.appGroupSharedDirectories = sharedDirectories
  }
}
