<<<<<<< HEAD
import { getRscMiddleware } from '@expo/server/private';
=======
import { getRscMiddleware } from '@expo/server/build/middleware/rsc';
>>>>>>> 2c830f7d0232ead70791aff6968a0e95ce850767
import { renderRscAsync } from 'expo-router/build/rsc/middleware';

import { resolve } from 'node:path';

// Target the `dist/server` directory.
const distFolder = resolve('./');

const rscMiddleware = getRscMiddleware({
  config: {},
  baseUrl: '',
  rscPath: '/_flight/',
  renderRsc: renderRscAsync.bind(null, distFolder),
});

module.exports = rscMiddleware;
