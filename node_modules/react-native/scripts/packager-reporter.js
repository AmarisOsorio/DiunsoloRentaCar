/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
<<<<<<< HEAD
 * @flow strict-local
=======
>>>>>>> 2c830f7d0232ead70791aff6968a0e95ce850767
 * @format
 */

'use strict';

<<<<<<< HEAD
let reporter /*: $FlowFixMe */;

const logPath = process.env.RCT_PACKAGER_LOG_PATH;
if (logPath != null && logPath !== '') {
  const {JsonReporter} = require('metro');
  const fs = require('fs');
  const path = require('path');
  // $FlowFixMe[missing-type-arg]
  reporter = class extends JsonReporter {
=======
const logPath = process.env.RCT_PACKAGER_LOG_PATH;
if (logPath != null && logPath !== '') {
  const JsonReporter = require('metro/src/lib/JsonReporter');
  const fs = require('fs');
  const path = require('path');
  module.exports = class extends JsonReporter {
>>>>>>> 2c830f7d0232ead70791aff6968a0e95ce850767
    constructor() {
      fs.mkdirSync(path.dirname(logPath), {
        recursive: true,
      });
      super(fs.createWriteStream(logPath));
    }
  };
} else {
<<<<<<< HEAD
  reporter = require('metro').TerminalReporter;
}

module.exports = reporter;
=======
  module.exports = require('metro/src/lib/TerminalReporter');
}
>>>>>>> 2c830f7d0232ead70791aff6968a0e95ce850767
